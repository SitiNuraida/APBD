<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        
    <title>APBD Kota Bandung</title>
    <link rel="stylesheet" href="./css/bagi-hasil-pajak.css" />
    
    <!-- MDB icon -->
    <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon" />
    
    <!-- MDB -->
    <link rel="stylesheet" href="css/mdb.min.css" />

  </head>

  <body>
    <div class="big-wrapper">
      <div class="big-wrapper light">
      
          <nav id="nav-bg-color" class="navbar fixed-top navbar-expand-lg navbar-scrolled bg-transparent shadow-none">
            <div class="container"> 
              <div class="logo">
                <img src="./img/logo.png" alt="Logo"/>
              </div>     
               
              <div class="links">
                <ul>
                  <li><a href="#">Beranda</a></li>
                    <div class="dropdown">
                      <li><a href="#" class="nav-item dropdown">Data Anggaran</a></li>
                          <div class="dropdown-content-menu">
                            <li href="#">APBD 2017</li>
                            <li href="#">APBD 2018</li>
                            <li href="#">APBD 2019</li>
                            <li href="#">Selengkapnya</li>
                          </div>
                    </div>

                    <div class="dropdown">
                      <li><a href="#" class="nav-item dropdown">Perbandingan</a></li>
                      <div class="dropdown-content-menu">
                        <li href="#">APBD 2017</li>
                        <li href="#">APBD 2018</li>
                        <li href="#">APBD 2019</li>
                        <li href="#">Selengkapnya</li>
                      </div>
                    </div>
                  <li><a href="#">Tentang</a></li>
                </ul>
              </div>

              <div class="overlay"></div>

              <div class="hamburger-menu">
                <div class="bar"></div>
              </div>
            </div>
          </nav>

            <div class="showcase-area">
              <div class="container">
                <div class="pajak-daerah">
                  <div class="left">
                    <div class="big-title">
                      <h2>Bagi Hasil Pajak/Bagi Hasil Bukan Pajak</h2>
                      <h1>Total: Rp. 344,482,401,000</h1>
                    </div>
                    <p class="desc-nominal">Tiga ratus empat puluh empat triliun, empat ratus delapan puluh dua miliyar, empat ratus satu ribu rupiah</p>
                    <p class="text">
                      Dana Bagi Hasil adalah dana yang bersumber dari pendapatan APBN yang dialokasikan kepada Daerah berdasarkan angka persentase untuk mendanai kebutuhan Daerah dalam rangka pelaksanaan Desentralisasi. (Undang Undang No.33 Tahun 2004 tentang Perimbangan Keuangan Antara Pemerintah Pusat dan Pemerintah Daerah).
                    </p>
                    <div class="row">
                      <div class="col-6"><h6>Jenis Pendapatan</h6></div>
                      <div class="col-6"><h6>Kontribusi Pada Pendapatan Asli Daerah</h6></div>
                      <div class="col-6 colisian">
                        <img src="./img/kotak jenis dan kontribusi.png" class="jenis-pendapatan" alt="Kotak jenis dan konstribusi">
                        <h4 class="isian-jenis-kontribusi">2</h4>
                      </div>
                      <div class="col-6">
                        <img src="./img/kotak jenis dan kontribusi.png" class="jenis-pendapatan" alt="Kotak jenis dan konstribusi">
                        <h4 class="isian-jenis-kontribusi1">6.88%
                        </h4>
                      </div>
                    </div>   
                  </div>
                </div>

                  <div class="right">
                    <img src="./img/bagi hasil pajak.png" alt="pajak daerah" class="monju" />
                  </div>
              </div>
            </div>
          
      </div>

      <!-- ================================= Pendapatan dari Pajak Daerah ===================================== -->
        <div class="bottom-area">
          <div id="container-anggaran" class="container">
              <h1 id="strukur anggaran" class="toggle-struktur">Pendapatan dari Bagi Hasil Pajak/Bagi Hasil Bukan Pajak </h1>

              <!-- Styles -->
              <style>
                #chartdiv {
                  width: 100%;
                  height: 400px;
                }
                </style>
                
                <!-- Resources -->
                <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
                <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
                <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
                
                <!-- Chart code -->
                <script>
                am5.ready(function() {
                
                // Create root element
                // https://www.amcharts.com/docs/v5/getting-started/#Root_element
                var root = am5.Root.new("chartdiv");
                
                
                // Set themes
                // https://www.amcharts.com/docs/v5/concepts/themes/
                root.setThemes([am5themes_Animated.new(root)]);
                
                
                // Create chart
                // https://www.amcharts.com/docs/v5/charts/xy-chart/
                var chart = root.container.children.push(
                  am5xy.XYChart.new(root, {
                    panX: false,
                    panY: false,
                    wheelX: "none",
                    wheelY: "none"
                  })
                );
                
                
                // Create axes
                // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
                var yRenderer = am5xy.AxisRendererY.new(root, { minGridDistance: 30 });
                
                var yAxis = chart.yAxes.push(
                  am5xy.CategoryAxis.new(root, {
                    maxDeviation: 0,
                    categoryField: "country",
                    renderer: yRenderer
                  })
                );
                
                var xAxis = chart.xAxes.push(
                  am5xy.ValueAxis.new(root, {
                    maxDeviation: 0,
                    min: 0,
                    renderer: am5xy.AxisRendererX.new(root, {})
                  })
                );
                
                
                // Create series
                // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
                var series = chart.series.push(
                  am5xy.ColumnSeries.new(root, {
                    name: "Series 1",
                    xAxis: xAxis,
                    yAxis: yAxis,
                    valueXField: "value",
                    sequencedInterpolation: true,
                    categoryYField: "country"
                  })
                );
                
                var columnTemplate = series.columns.template;
                
                columnTemplate.setAll({
                  draggable: true,
                  cursorOverStyle: "pointer",
                  tooltipText: "drag to rearrange",
                  cornerRadiusBR: 10,
                  cornerRadiusTR: 10
                });
                columnTemplate.adapters.add("fill", (fill, target) => {
                  return chart.get("colors").getIndex(series.columns.indexOf(target));
                });
                
                columnTemplate.adapters.add("stroke", (stroke, target) => {
                  return chart.get("colors").getIndex(series.columns.indexOf(target));
                });
                
                columnTemplate.events.on("dragstop", () => {
                  sortCategoryAxis();
                });
                
                // Get series item by category
                function getSeriesItem(category) {
                  for (var i = 0; i < series.dataItems.length; i++) {
                    var dataItem = series.dataItems[i];
                    if (dataItem.get("categoryY") == category) {
                      return dataItem;
                    }
                  }
                }
                
                
                // Axis sorting
                function sortCategoryAxis() {
                  // Sort by value
                  series.dataItems.sort(function (x, y) {
                    return y.get("graphics").y() - x.get("graphics").y();
                  });
                
                  var easing = am5.ease.out(am5.ease.cubic);
                
                  // Go through each axis item
                  am5.array.each(yAxis.dataItems, function (dataItem) {
                    // get corresponding series item
                    var seriesDataItem = getSeriesItem(dataItem.get("category"));
                
                    if (seriesDataItem) {
                      // get index of series data item
                      var index = series.dataItems.indexOf(seriesDataItem);
                
                      var column = seriesDataItem.get("graphics");
                
                      // position after sorting
                      var fy =
                        yRenderer.positionToCoordinate(yAxis.indexToPosition(index)) -
                        column.height() / 2;
                
                      // set index to be the same as series data item index
                      if (index != dataItem.get("index")) {
                        dataItem.set("index", index);
                
                        // current position
                        var x = column.x();
                        var y = column.y();
                
                        column.set("dy", -(fy - y));
                        column.set("dx", x);
                
                        column.animate({ key: "dy", to: 0, duration: 600, easing: easing });
                        column.animate({ key: "dx", to: 0, duration: 600, easing: easing });
                      } else {
                        column.animate({ key: "y", to: fy, duration: 600, easing: easing });
                        column.animate({ key: "x", to: 0, duration: 600, easing: easing });
                      }
                    }
                  });
                
                  // Sort axis items by index.
                  // This changes the order instantly, but as dx and dy is set and animated,
                  // they keep in the same places and then animate to true positions.
                  yAxis.dataItems.sort(function (x, y) {
                    return x.get("index") - y.get("index");
                  });
                }
                
                // Set data
                var data = [{
                  country: "Bagi Hasil Pajak",
                  value: 2025
                }, {
                  country: "Bagi Hasil Bukan Pajak/ Sumber Daya Alam",
                  value: 1882
                }];
                
                yAxis.data.setAll(data);
                series.data.setAll(data);
                
                
                // Make stuff animate on load
                // https://www.amcharts.com/docs/v5/concepts/animations/
                series.appear(1000);
                chart.appear(1000, 100);
                
                }); // end am5.ready()
                </script>
                
                <!-- HTML -->
                <div id="chartdiv"></div>

          </div>
        </div>
        <!-- ================================= END pilih tahun perbandingan ============================== -->

    <!-- Anggaran Perangkat Daerah -->
        <div id="container-anggaran" class="container">
          <table class="table table-hover">
            <tr style="background-color: #B0DEFF;">
              <td>Kode</td>
              <td>Jenis Pendapatan</td>
              <td>Jumlah Pendapatan</td>
              <td>Persentase</td>
            </tr>
            <tr>
              <td>4.2.1.01</td>
              <td>Bagi hasil pajak</td>
              <td>Rp. 326,542,575,000</td>
              <td>94.79%</td>
            </tr>
            <tr>
              <td>4.2.1.02</td>
              <td>Bagi hasil bukan pajak/ sumber daya alam</td>
              <td>Rp. 17,939,826,000</td>
              <td>5.21%</td>
            </tr>
          </table>
        </div>

    </div>

     <!-- JavaScript Files -->
     <script src="https://kit.fontawesome.com/a81368914c.js"></script>
     <script src="./js/app.js"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
 
     <!-- MDB -->
     <script type="text/javascript" src="js/mdb.min.js"></script>

    <script>
      $(window).scroll(function(){
        $('nav').toggleClass('scrolled', $(this).scrollTop() > 100);
        });

        $(document).ready(function() {
          $('#myCarousel').carousel({
            interval: 10000
        })
      });
    </script>
    
  </body>
</html>
